import {
  render
} from "./chunk-SICCU2IJ.js";
import {
  asClassComponent,
  createClassComponent
} from "./chunk-7NRLI5RA.js";
import "./chunk-GBY57JXA.js";
import "./chunk-XVVR3IV4.js";
import {
  async_mode_flag
} from "./chunk-OHYQYV5R.js";
import "./chunk-MZQ22LAU.js";

// node_modules/svelte/src/legacy/legacy-server.js
function asClassComponent2(component) {
  const component_constructor = asClassComponent(component);
  const _render = (props, { context, csp, transformError } = {}) => {
    const result = render(component, { props, context, csp, transformError });
    const munged = Object.defineProperties(
      /** @type {LegacyRenderResult & PromiseLike<LegacyRenderResult>} */
      {},
      {
        css: {
          value: { code: "", map: null }
        },
        head: {
          get: () => result.head
        },
        html: {
          get: () => result.body
        },
        then: {
          /**
           * this is not type-safe, but honestly it's the best I can do right now, and it's a straightforward function.
           *
           * @template TResult1
           * @template [TResult2=never]
           * @param { (value: LegacyRenderResult) => TResult1 } onfulfilled
           * @param { (reason: unknown) => TResult2 } onrejected
           */
          value: (onfulfilled, onrejected) => {
            if (!async_mode_flag) {
              const user_result = onfulfilled({
                css: munged.css,
                head: munged.head,
                html: munged.html
              });
              return Promise.resolve(user_result);
            }
            return result.then((result2) => {
              return onfulfilled({
                css: munged.css,
                head: result2.head,
                html: result2.body,
                hashes: result2.hashes
              });
            }, onrejected);
          }
        }
      }
    );
    return munged;
  };
  component_constructor.render = _render;
  return component_constructor;
}
function run(fn) {
  fn();
}
var noop = () => {
};
export {
  asClassComponent2 as asClassComponent,
  noop as createBubbler,
  createClassComponent,
  noop as handlers,
  noop as nonpassive,
  noop as once,
  noop as passive,
  noop as preventDefault,
  run,
  noop as self,
  noop as stopImmediatePropagation,
  noop as stopPropagation,
  noop as trusted
};
//# sourceMappingURL=svelte_legacy.js.map
